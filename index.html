<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> 
    
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="css.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<script>
    // Cloudflare need a password to encrypt or descript for study purpose just set 123 as default
    var password = "123";
   
    // Encryption/Decryption code here
    
         function encrypt() {
            try {
        if (document.getElementById("plaintext").value === "") {
    alert("Please enter text to encrypt/decrypt");
} else {
        // Get the text to encrypt
             var plaintext = document.getElementById("plaintext").value;
        // Encrypt the plaintext using AES with the password as the key
               var ciphertext = CryptoJS.AES.encrypt(plaintext, password);
        // Show the ciphertext in the ciphertext box
                   document.getElementById("ciphertext").value = ciphertext;
        //to clear the box after use
                      document.getElementById("plaintext").value = "";}}catch (error) {
    // Handle error
    alert("An error occurred: " + error);
}}
    function decrypt() {
        try {
        if (document.getElementById("plaintext").value === "") {
    alert("Please enter text to encrypt/decrypt");
} else {
        // Get the ciphertext to decrypt
             var ciphertext = document.getElementById("plaintext").value;
        // Decrypt the ciphertext using AES with the password as the key
                  var plaintext = CryptoJS.AES.decrypt(ciphertext, password);
        // Show the plaintext in the ciphertext decrypt box
                        document.getElementById("ciphertext").value = plaintext.toString(CryptoJS.enc.Utf8);}
                    }catch (error) {
    // Handle error
    alert("An error occurred: " + error);
}  } 

    //Copy the information of the result of the descrypt ciphertext 
    function copy() {
         let textarea = document.getElementById("ciphertext");
              textarea.select();
                  document.execCommand("copy");}
//Paste the information of the result of the descrypt plaintext and clean the ciphertext box 
    function paste(){
        navigator.clipboard.readText().then(text => {
             document.getElementById("plaintext").value = text;});
    document.getElementById("ciphertext").value = "";}
    </script>
</head> 
<body>
        <header>
            <h1> <img class="logo" alt="logo"   src="Locker.png"></h1> 
        </header>
        <main>
        
            <section class="left-box">
                    <textarea id="plaintext" placeholder="Enter text to encrypt or decrypt"></textarea>
                    <button onclick="paste()">PASTE</button>
            </section>
            <section class="middle-box">
                    <button class="crypt" onclick="encrypt()">ENCRYPT</button>
                    <button class="crypt" onclick="decrypt()">DECRYPT</button>
            
            </section>
            <section class="rigth-box">
                    <textarea id="ciphertext" readonly></textarea>
                    <button onclick="copy()">COPY</button>
             </section>
        </main>
        
</body>
</html>

